{"remainingRequest":"C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\src\\components\\ListeDesRestaurants.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\src\\components\\ListeDesRestaurants.vue","mtime":1604792386725},{"path":"C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBfIGZyb20gImxvZGFzaCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTGlzdGVEZXNSZXN0YXVyYW50cyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc3RhdXJhbnRzOiBbXSwKICAgICAgbm9tOiAiIiwKICAgICAgY3Vpc2luZTogIiIsCiAgICAgIG5iUmVzdGF1cmFudHNUb3RhbDogMCwKICAgICAgcGFnZTogMCwKICAgICAgcGFnZXNpemU6IDEwLAogICAgICBuYlBhZ2VzVG90YWw6IDAsCiAgICAgIG1zZzogIiIsCiAgICAgIG5vbVJlc3RhdVJlY2hlcmNoZTogIiIKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8gYHRoaXNgIHBvaW50cyB0byB0aGUgdm0gaW5zdGFuY2UKICAgIGNvbnNvbGUubG9nKCJUZXN0IFJlc3RhdXJhbnRzIHByb2pldCIpOwogICAgdGhpcy5nZXRSZXN0YXVyYW50c0Zyb21TZXJ2ZXIoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHBhZ2VQcmVjZWRlbnRlOiBmdW5jdGlvbiBwYWdlUHJlY2VkZW50ZSgpIHsKICAgICAgaWYgKHRoaXMucGFnZSA9PT0gMCkgcmV0dXJuOwogICAgICB0aGlzLnBhZ2UtLTsKICAgICAgdGhpcy5nZXRSZXN0YXVyYW50c0Zyb21TZXJ2ZXIoKTsKICAgIH0sCiAgICBwYWdlU3VpdmFudGU6IGZ1bmN0aW9uIHBhZ2VTdWl2YW50ZSgpIHsKICAgICAgaWYgKHRoaXMucGFnZSA9PT0gdGhpcy5kZXJuaWVyZVBhZ2UpIHJldHVybjsKICAgICAgdGhpcy5wYWdlKys7CiAgICAgIHRoaXMuZ2V0UmVzdGF1cmFudHNGcm9tU2VydmVyKCk7CiAgICB9LAogICAgZ2V0UmVzdGF1cmFudHNGcm9tU2VydmVyOiBmdW5jdGlvbiBnZXRSZXN0YXVyYW50c0Zyb21TZXJ2ZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdXJsID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvcmVzdGF1cmFudHM/IjsKICAgICAgdXJsICs9ICJwYWdlPSIgKyB0aGlzLnBhZ2U7CiAgICAgIHVybCArPSAiJnBhZ2VzaXplPSIgKyB0aGlzLnBhZ2VzaXplOwogICAgICB1cmwgKz0gIiZuYW1lPSIgKyB0aGlzLm5vbVJlc3RhdVJlY2hlcmNoZTsKICAgICAgZmV0Y2godXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZUpTT04pIHsKICAgICAgICAvL2Fycm93IGZ1bmN0aW9ucyBjb25zZXJ2ZSBsZSBib24gInRoaXMiCiAgICAgICAgLy8gbGEgcsOpcG9uc2UgZXN0IGVuIEpTT04gb24gbGEgY29udmVydGl0IGF2ZWMgbGEgbGlnbmUgc3VpdmFudGUKICAgICAgICByZXNwb25zZUpTT04uanNvbigpLnRoZW4oZnVuY3Rpb24gKHJlc0pTKSB7CiAgICAgICAgICAvLyBNYWludGVuYW50IHJlcyBlc3QgdW4gdnJhaSBvYmpldCBKYXZhU2NyaXB0CiAgICAgICAgICBfdGhpcy5yZXN0YXVyYW50cyA9IHJlc0pTLmRhdGE7CiAgICAgICAgICBfdGhpcy5uYlJlc3RhdXJhbnRzVG90YWwgPSByZXNKUy5jb3VudDsKICAgICAgICAgIF90aGlzLm5iUGFnZXNUb3RhbCA9IE1hdGgucm91bmQoX3RoaXMubmJSZXN0YXVyYW50c1RvdGFsIC8gX3RoaXMucGFnZXNpemUpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgY2hlcmNoZXJSZXN0YXVyYW50czogXy5kZWJvdW5jZShmdW5jdGlvbiAoKSB7CiAgICAgIC8vYXBwZWzDqWUgcXVlIHNpIG9uIG4nYSBwYXMgdGFww6kgZGUgdG91Y2hlcyBwZW5kYW50IHVuIGNlcnRhaW4gZMOpbGFpCiAgICAgIHRoaXMuZ2V0UmVzdGF1cmFudHNGcm9tU2VydmVyKCk7CiAgICB9LCAzMDApLAogICAgc3VwcHJpbWVyUmVzdGF1cmFudDogZnVuY3Rpb24gc3VwcHJpbWVyUmVzdGF1cmFudChyKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHVybCA9ICJodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3Jlc3RhdXJhbnRzLyIgKyByLl9pZDsKICAgICAgZmV0Y2godXJsLCB7CiAgICAgICAgbWV0aG9kOiAiREVMRVRFIgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZUpTT04pIHsKICAgICAgICByZXNwb25zZUpTT04uanNvbigpLnRoZW4oZnVuY3Rpb24gKHJlc0pTKSB7CiAgICAgICAgICAvLyBNYWludGVuYW50IHJlcyBlc3QgdW4gdnJhaSBvYmpldCBKYXZhU2NyaXB0CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNKUy5tc2cpOwogICAgICAgICAgX3RoaXMyLm1zZyA9IHJlc0pTLm1zZzsgLy8gT24gcmFmcmFpY2hpdCBsYSB2dWUKCiAgICAgICAgICBfdGhpczIuZ2V0UmVzdGF1cmFudHNGcm9tU2VydmVyKCk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBham91dGVyUmVzdGF1cmFudDogZnVuY3Rpb24gYWpvdXRlclJlc3RhdXJhbnQoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvLyBSw6ljdXDDqXJhdGlvbiBkdSBmb3JtdWxhaXJlLiBQYXMgYmVzb2luIGRlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IKICAgICAgLy8gb3UgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgcHVpc3F1ZSBjJ2VzdCBsZSBmb3JtdWxhaXJlIHF1aSBhIGfDqW7DqXLDqQogICAgICAvLyBsJ8OpdsOpbmVtZW50CiAgICAgIHZhciBmb3JtID0gZXZlbnQudGFyZ2V0OyAvLyBSw6ljdXDDqXJhdGlvbiBkZXMgdmFsZXVycyBkZXMgY2hhbXBzIGR1IGZvcm11bGFpcmUKICAgICAgLy8gZW4gcHLDqXZpc2lvbiBkJ3VuIGVudm9pIG11bHRpcGFydCBlbiBhamF4L2ZldGNoCgogICAgICB2YXIgZG9ubmVlc0Zvcm11bGFpcmUgPSBuZXcgRm9ybURhdGEoZm9ybSk7CiAgICAgIHZhciB1cmwgPSAiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS9yZXN0YXVyYW50cz8iOwogICAgICBmZXRjaCh1cmwsIHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICBib2R5OiBkb25uZWVzRm9ybXVsYWlyZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZUpTT04pIHsKICAgICAgICByZXNwb25zZUpTT04uanNvbigpLnRoZW4oZnVuY3Rpb24gKHJlc0pTKSB7CiAgICAgICAgICAvLyBNYWludGVuYW50IHJlcyBlc3QgdW4gdnJhaSBvYmpldCBKYXZhU2NyaXB0CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNKUy5tc2cpOwogICAgICAgICAgX3RoaXMzLm1zZyA9IHJlc0pTLm1zZzsgLy8gT24gcmFmcmFpY2hpdCBsYSB2dWUKCiAgICAgICAgICBfdGhpczMuZ2V0UmVzdGF1cmFudHNGcm9tU2VydmVyKCk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgICAgdGhpcy5ub20gPSAiIjsKICAgICAgdGhpcy5jdWlzaW5lID0gIiI7CiAgICB9LAogICAgZ2V0Q29sb3I6IGZ1bmN0aW9uIGdldENvbG9yKGV2ZW50KSB7CiAgICAgIHJldHVybiBldmVudCAlIDIgPyAibGlnaHRCbHVlIiA6ICJwaW5rIjsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ListeDesRestaurants.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <h1 style=\"text-align: center\">Liste de restaurants</h1>\r\n    <form @submit.prevent=\"ajouterRestaurant($event)\">\r\n      <label>\r\n        Nom : <md-field> <md-input v-model=\"nom\"></md-input></md-field>\r\n      </label>\r\n      <label>\r\n        Cuisine : <md-field><md-input v-model=\"cuisine\"></md-input> </md-field>\r\n      </label>\r\n      <button>Ajouter</button>\r\n    </form>\r\n\r\n    <h2>Nombre de restaurants : {{ nbRestaurantsTotal }}</h2>\r\n\r\n    <p>Nb de pages total : {{ nbPagesTotal }}</p>\r\n    <p>\r\n      Nb restaurants par page :\r\n      <input\r\n        @change=\"getRestaurantsFromServer()\"\r\n        type=\"range\"\r\n        min=\"2\"\r\n        max=\"100\"\r\n        v-model=\"pagesize\"\r\n      />{{ pagesize }}\r\n    </p>\r\n    <p class=\"buttons\">\r\n      <span>&nbsp; Page courante : {{ page }}</span>\r\n      <md-button\r\n        class=\"md-raised md-accent\"\r\n        :disabled=\"page === 0\"\r\n        @click=\"pagePrecedente()\"\r\n        >Precedent</md-button\r\n      >&nbsp;&nbsp;\r\n      <md-button\r\n        class=\"md-raised md-accent\"\r\n        :disabled=\"page === nbPagesTotal\"\r\n        @click=\"pageSuivante()\"\r\n      >\r\n        Suivant\r\n      </md-button>\r\n    </p>\r\n\r\n    <md-table\r\n      v-model=\"restaurants\"\r\n      md-sort=\"name\"\r\n      md-sort-order=\"asc\"\r\n      md-card\r\n      md-fixed-header\r\n    >\r\n      <md-table-toolbar>\r\n        <md-field md-clearable class=\"md-toolbar-section-end\">\r\n          <md-input\r\n            placeholder=\"Nom, Cuisine, Ville...\"\r\n            @input=\"chercherRestaurants()\"\r\n            v-model=\"nomRestauRecherche\"\r\n          />\r\n        </md-field>\r\n      </md-table-toolbar>\r\n\r\n      <md-table-empty-state\r\n        md-label=\"Aucun restaurant, cuisine ou ville trouvé...\"\r\n        :md-description=\"`Aucun restaurant ne correspond à votre recherche ${nomRestauRecherche}. Essayer un autre restaurant ...`\"\r\n      >\r\n      </md-table-empty-state>\r\n\r\n      <md-table-row>\r\n        <md-table-head>Nom</md-table-head>\r\n        <md-table-head>Cuisine</md-table-head>\r\n        <md-table-head>Ville</md-table-head>\r\n      </md-table-row>\r\n\r\n      <md-table-row\r\n        v-on:click=\"supprimerRestaurant(item)\"\r\n        slot=\"md-table-row\"\r\n        slot-scope=\"{ item, index }\"\r\n        :style=\"{ backgroundColor: getColor(index) }\"\r\n        :class=\"{ bordureRouge: index === 2 }\"\r\n      >\r\n        <md-table-cell md-label=\"Name\" md-sort-by=\"name\" md-numeric>{{\r\n          item.name\r\n        }}</md-table-cell>\r\n        <md-table-cell md-label=\"Cuisine\" md-sort-by=\"cuisine\" md-numeric>{{\r\n          item.cuisine\r\n        }}</md-table-cell>\r\n        <md-table-cell md-label=\"Borough\" md-sort-by=\"borough\" md-numeric>{{\r\n          item.borough\r\n        }}</md-table-cell>\r\n        <md-table-cell md-label=\"Action\">\r\n          <router-link :to=\"'/restaurant/' + item._id\"> [Details]</router-link>\r\n        </md-table-cell>\r\n      </md-table-row>\r\n    </md-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from \"lodash\";\r\n\r\nexport default {\r\n  name: \"ListeDesRestaurants\",\r\n  data: () => {\r\n    return {\r\n      restaurants: [],\r\n      nom: \"\",\r\n      cuisine: \"\",\r\n      nbRestaurantsTotal: 0,\r\n      page: 0,\r\n      pagesize: 10,\r\n      nbPagesTotal: 0,\r\n      msg: \"\",\r\n      nomRestauRecherche: \"\",\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    // `this` points to the vm instance\r\n    console.log(\"Test Restaurants projet\");\r\n    this.getRestaurantsFromServer();\r\n  },\r\n  methods: {\r\n    pagePrecedente() {\r\n      if (this.page === 0) return;\r\n\r\n      this.page--;\r\n      this.getRestaurantsFromServer();\r\n    },\r\n    pageSuivante() {\r\n      if (this.page === this.dernierePage) return;\r\n\r\n      this.page++;\r\n      this.getRestaurantsFromServer();\r\n    },\r\n    getRestaurantsFromServer() {\r\n      let url = \"http://localhost:8080/api/restaurants?\";\r\n      url += \"page=\" + this.page;\r\n      url += \"&pagesize=\" + this.pagesize;\r\n      url += \"&name=\" + this.nomRestauRecherche;\r\n\r\n      fetch(url)\r\n        .then((responseJSON) => {\r\n          //arrow functions conserve le bon \"this\"\r\n          // la réponse est en JSON on la convertit avec la ligne suivante\r\n          responseJSON.json().then((resJS) => {\r\n            // Maintenant res est un vrai objet JavaScript\r\n            this.restaurants = resJS.data;\r\n            this.nbRestaurantsTotal = resJS.count;\r\n            this.nbPagesTotal = Math.round(\r\n              this.nbRestaurantsTotal / this.pagesize\r\n            );\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    chercherRestaurants: _.debounce(function () {\r\n      //appelée que si on n'a pas tapé de touches pendant un certain délai\r\n      this.getRestaurantsFromServer();\r\n    }, 300),\r\n    supprimerRestaurant(r) {\r\n      let url = \"http://localhost:8080/api/restaurants/\" + r._id;\r\n      fetch(url, {\r\n        method: \"DELETE\",\r\n      })\r\n        .then((responseJSON) => {\r\n          responseJSON.json().then((resJS) => {\r\n            // Maintenant res est un vrai objet JavaScript\r\n            console.log(resJS.msg);\r\n            this.msg = resJS.msg;\r\n            // On rafraichit la vue\r\n            this.getRestaurantsFromServer();\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    ajouterRestaurant(event) {\r\n      // Récupération du formulaire. Pas besoin de document.querySelector\r\n      // ou document.getElementById puisque c'est le formulaire qui a généré\r\n      // l'événement\r\n\r\n      let form = event.target;\r\n\r\n      // Récupération des valeurs des champs du formulaire\r\n      // en prévision d'un envoi multipart en ajax/fetch\r\n      let donneesFormulaire = new FormData(form);\r\n\r\n      let url = \"http://localhost:8080/api/restaurants?\";\r\n\r\n      fetch(url, {\r\n        method: \"POST\",\r\n        body: donneesFormulaire,\r\n      })\r\n        .then((responseJSON) => {\r\n          responseJSON.json().then((resJS) => {\r\n            // Maintenant res est un vrai objet JavaScript\r\n            console.log(resJS.msg);\r\n            this.msg = resJS.msg;\r\n            // On rafraichit la vue\r\n            this.getRestaurantsFromServer();\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n\r\n      this.nom = \"\";\r\n      this.cuisine = \"\";\r\n    },\r\n    getColor(event) {\r\n      return event % 2 ? \"lightBlue\" : \"pink\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh1 {\r\n  color: red;\r\n}\r\n.buttons {\r\n  text-align: right;\r\n  clear: both;\r\n}\r\n.buttons span {\r\n  float: center;\r\n}\r\n\r\n.md-field {\r\n  max-width: 300px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}