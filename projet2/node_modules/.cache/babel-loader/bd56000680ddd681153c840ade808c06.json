{"remainingRequest":"C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\src\\components\\ListeRestaurants.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\src\\components\\ListeRestaurants.vue","mtime":1604877878711},{"path":"C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nazdo\\OneDrive\\Documents\\M1_MIAGE\\JS\\PROJET2\\projet2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBfIGZyb20gImxvZGFzaCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTGlzdGVSZXN0YXVyYW50cyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc3RhdXJhbnRzOiBbXSwKICAgICAgbm9tOiAiIiwKICAgICAgY3Vpc2luZTogIiIsCiAgICAgIHZpbGxlOiAiIiwKICAgICAgbmJSZXM6IDAsCiAgICAgIHBhZ2U6IDAsCiAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgbmJQYWdlVG90YWw6IDAsCiAgICAgIG1zZzogIiIsCiAgICAgIG5vbVJlc3RhdVJlY2hlcmNoZTogIiIsCiAgICAgIGN1aXNpbmVSZXN0YXVSZWNoZXJjaGU6ICIiCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCJBVkFOVCBSRU5EVSBIVE1MIik7CiAgICB0aGlzLmdldFJlc3RhdXJhbnRzRnJvbVNlcnZlcigpOwogIH0sCiAgbWV0aG9kczogewogICAgcGFnZVByZWNlZGVudGU6IGZ1bmN0aW9uIHBhZ2VQcmVjZWRlbnRlKCkgewogICAgICBpZiAodGhpcy5wYWdlID09PSAwKSByZXR1cm47CiAgICAgIHRoaXMucGFnZS0tOwogICAgICB0aGlzLmdldFJlc3RhdXJhbnRzRnJvbVNlcnZlcigpOwogICAgfSwKICAgIHBhZ2VTdWl2YW50ZTogZnVuY3Rpb24gcGFnZVN1aXZhbnRlKCkgewogICAgICBpZiAodGhpcy5wYWdlID09PSB0aGlzLm5iUGFnZVRvdGFsKSByZXR1cm47CiAgICAgIHRoaXMucGFnZSsrOwogICAgICB0aGlzLmdldFJlc3RhdXJhbnRzRnJvbVNlcnZlcigpOwogICAgfSwKICAgIGdldFJlc3RhdXJhbnRzRnJvbVNlcnZlcjogZnVuY3Rpb24gZ2V0UmVzdGF1cmFudHNGcm9tU2VydmVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHVybCA9ICJodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3Jlc3RhdXJhbnRzPyI7CiAgICAgIHVybCArPSAicGFnZT0iICsgdGhpcy5wYWdlOwogICAgICB1cmwgKz0gIiZuYW1lPSIgKyB0aGlzLm5vbVJlc3RhdVJlY2hlcmNoZTsKICAgICAgdXJsICs9ICImY3Vpc2luZT0iICsgdGhpcy5jdWlzaW5lUmVzdGF1UmVjaGVyY2hlOwogICAgICBmZXRjaCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlSlNPTikgewogICAgICAgIHJlc3BvbnNlSlNPTi5qc29uKCkudGhlbihmdW5jdGlvbiAocmVzSlMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc0pTKTsKICAgICAgICAgIF90aGlzLnJlc3RhdXJhbnRzID0gcmVzSlMuZGF0YTsKICAgICAgICAgIF90aGlzLm5iUmVzID0gcmVzSlMuY291bnQ7CiAgICAgICAgICBfdGhpcy5uYlBhZ2VUb3RhbCA9IE1hdGgucm91bmQoX3RoaXMubmJSZXMgLyBfdGhpcy5wYWdlU2l6ZSk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBjaGVyY2hlclJlc3RhdXJhbnRzOiBfLmRlYm91bmNlKGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5nZXRSZXN0YXVyYW50c0Zyb21TZXJ2ZXIoKTsKICAgIH0sIDMwMCksCiAgICBzdXBwcmltZXJSZXN0YXVyYW50OiBmdW5jdGlvbiBzdXBwcmltZXJSZXN0YXVyYW50KHIpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgdXJsID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvcmVzdGF1cmFudHMvIiArIHIuX2lkOwogICAgICBmZXRjaCh1cmwsIHsKICAgICAgICBtZXRob2Q6ICJERUxFVEUiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlSlNPTikgewogICAgICAgIHJlc3BvbnNlSlNPTi5qc29uKCkudGhlbihmdW5jdGlvbiAocmVzSlMpIHsKICAgICAgICAgIF90aGlzMi5tc2cgPSByZXNKUy5tc2c7CgogICAgICAgICAgX3RoaXMyLmdldFJlc3RhdXJhbnRzRnJvbVNlcnZlcigpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgYWpvdXRlclJlc3RhdXJhbnQ6IGZ1bmN0aW9uIGFqb3V0ZXJSZXN0YXVyYW50KGV2ZW50KSB7CiAgICAgIC8vIGV2aXRlciBsZSBjb21wb3J0ZW1lbnQgcGFyIGRlZmF1dAogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBSw6ljdXDDqXJhdGlvbiBkdSBmb3JtdWxhaXJlLiBQYXMgYmVzb2luIGRlIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IKICAgICAgLy8gb3UgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgcHVpc3F1ZSBjJ2VzdCBsZSBmb3JtdWxhaXJlIHF1aSBhIGfDqW7DqXLDqQogICAgICAvLyBsJ8OpdsOpbmVtZW50CgogICAgICB2YXIgZm9ybSA9IGV2ZW50LnRhcmdldDsgLy8gUsOpY3Vww6lyYXRpb24gZGVzIHZhbGV1cnMgZGVzIGNoYW1wcyBkdSBmb3JtdWxhaXJlCiAgICAgIC8vIGVuIHByw6l2aXNpb24gZCd1biBlbnZvaSBtdWx0aXBhcnQgZW4gYWpheC9mZXRjaAoKICAgICAgdmFyIGRvbm5lZXNGb3JtdWxhaXJlID0gbmV3IEZvcm1EYXRhKGZvcm0pOwogICAgICB2YXIgdXJsID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvcmVzdGF1cmFudHM/IjsKICAgICAgZmV0Y2godXJsLCB7CiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgYm9keTogZG9ubmVlc0Zvcm11bGFpcmUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2VKU09OKSB7CiAgICAgICAgcmVzcG9uc2VKU09OLmpzb24oKS50aGVuKGZ1bmN0aW9uIChyZXNKUykgewogICAgICAgICAgLy8gTWFpbnRlbmFudCByZXMgZXN0IHVuIHZyYWkgb2JqZXQgSmF2YVNjcmlwdAogICAgICAgICAgY29uc29sZS5sb2cocmVzSlMubXNnKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgICB0aGlzLm5vbSA9ICIiOwogICAgICB0aGlzLmN1aXNpbmUgPSAiIjsKICAgICAgdGhpcy52aWxsZSA9ICIiOwogICAgfSwKICAgIGdldENvbG9yOiBmdW5jdGlvbiBnZXRDb2xvcihpbmRleCkgewogICAgICByZXR1cm4gaW5kZXggJSAyID8gImxpZ2h0Qmx1ZSIgOiAicGluayI7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ListeRestaurants.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <!--\r\n  <form v-on:submit=\"ajouterRestaurant($event)\">\r\n        <label>\r\n            Nom : <input name=\"nom\" type=\"text\" required v-model=\"nom\">\r\n        </label>\r\n        <label>\r\n            Cuisine : <input name=\"cuisine\" type=\"text\" required v-model=\"cuisine\">\r\n        </label>\r\n        <label>\r\n            Ville : <input borough=\"borough\" type=\"text\" required v-model=\"ville\">\r\n        </label>\r\n        -->\r\n\r\n    <form v-on:submit=\"ajouterRestaurant($event)\">\r\n      <md-field>\r\n        <label>Nom :</label>\r\n        <md-input name=\"nom\" type=\"text\" required v-model=\"nom\"></md-input>\r\n        </md-field>\r\n        <md-field>\r\n        <label>Cuisine :</label>\r\n        <md-input name=\"cuisine\" type=\"text\" required v-model=\"cuisine\"></md-input>\r\n        </md-field>\r\n\r\n        <md-button type=\"submit\" class=\"md-raised md-accent\">Ajouter</md-button>\r\n    </form>\r\n\r\n    <!--\r\n    <p>\r\n      Chercher par nom :\r\n      <input\r\n        @input=\"chercherRestaurants()\"\r\n        type=\"text\"\r\n        v-model=\"nomRestauRecherche\"\r\n      />\r\n    </p>\r\n    -->\r\n\r\n\r\n    <p>Page {{page}} / {{ nbPageTotal }}</p>\r\n    <md-button class=\"md-raised md-accent\" :disabled=\"page === 0\" @click=\"pagePrecedente()\">Précédent</md-button\r\n    >&nbsp;&nbsp;\r\n    <md-button class=\"md-raised md-accent\" :disabled=\"page === nbPageTotal\" @click=\"pageSuivante()\">\r\n      Suivant\r\n    </md-button>\r\n    <br> <br>\r\n    \r\n    <!--\r\n    <table>\r\n      <tr>\r\n        <th>Nom</th>\r\n        <th>Cuisine</th>\r\n        <th>Ville</th>\r\n        <th>Détails</th>\r\n      </tr>\r\n      <tbody>\r\n        <tr\r\n          v-for=\"(r, index) in restaurants\"\r\n          v-bind:style=\"{ backgroundColor: getColor(index) }\"\r\n          :key=\"index\"\r\n          v-bind:class=\"{ bordureRouge: index === 2 }\"\r\n        >\r\n          <td>{{ r.name }}</td>\r\n          <td>{{ r.cuisine }}</td>\r\n          <td>{{ r.borough }}</td>\r\n          <td>\r\n            <router-link :to=\"'/restaurant/' + r._id\" tag=\"button\"\r\n              >Détail d'un restaurant</router-link\r\n            >\r\n          </td>\r\n          <td><button @click=\"supprimerRestaurant(r)\">delete</button></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  -->\r\n\r\n  <md-table v-model=\"restaurants\" md-sort=\"name\" md-sort-order=\"asc\" md-card md-fixed-header>\r\n      <md-table-toolbar>\r\n        <div class=\"md-toolbar-section-start\">\r\n          <h1 class=\"md-title\">Nombre de restaurants : {{ nbRes }}</h1>\r\n        </div>\r\n\r\n        <md-field md-clearable class=\"md-toolbar-section-end\">\r\n          <md-input placeholder=\"Nom du restaurant...\" v-model=\"nomRestauRecherche\" @input=\"chercherRestaurants()\" />\r\n        </md-field>\r\n      </md-table-toolbar>\r\n\r\n      <md-table-empty-state\r\n        md-label=\"Pas de restaurant\"\r\n        :md-description=\"`Pas de restaurant au nom de '${nomRestauRecherche}' trouvé. Essayer une differente recherche.`\">\r\n      </md-table-empty-state>\r\n\r\n      <md-table-row slot=\"md-table-row\" slot-scope=\"{ item }\">\r\n        <md-table-cell md-label=\"Name\" md-sort-by=\"name\" md-numeric>{{ item.name }}</md-table-cell>\r\n        <md-table-cell md-label=\"Cuisine\" md-sort-by=\"cuisine\">{{ item.cuisine }}</md-table-cell>\r\n        <md-table-cell md-label=\"Ville\" md-sort-by=\"borough\">{{ item.borough }}</md-table-cell>\r\n        <md-table-cell md-label=\"Details\" ><router-link :to=\"'/restaurant/' + item._id\"><md-button class=\"md-raised md-accent\">Détail du restaurant</md-button></router-link></md-table-cell>\r\n        <md-table-cell><md-button class=\"md-accent\" @click=\"supprimerRestaurant(item)\">Supprimer</md-button></md-table-cell>\r\n      </md-table-row>\r\n    </md-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from \"lodash\";\r\n\r\nexport default {\r\n  name: \"ListeRestaurants\",\r\n  data: function () {\r\n    return {\r\n      restaurants: [],\r\n      nom: \"\",\r\n      cuisine: \"\",\r\n      ville: \"\",\r\n      nbRes: 0,\r\n      page: 0,\r\n      pageSize: 10,\r\n      nbPageTotal: 0,\r\n      msg: \"\",\r\n      nomRestauRecherche: \"\",\r\n      cuisineRestauRecherche: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    console.log(\"AVANT RENDU HTML\");\r\n    this.getRestaurantsFromServer();\r\n  },\r\n  methods: {\r\n    pagePrecedente() {\r\n      if (this.page === 0) return;\r\n      this.page--;\r\n      this.getRestaurantsFromServer();\r\n    },\r\n    pageSuivante() {\r\n      if (this.page === this.nbPageTotal) return;\r\n      this.page++;\r\n      this.getRestaurantsFromServer();\r\n    },\r\n    getRestaurantsFromServer() {\r\n      let url = \"http://localhost:8080/api/restaurants?\";\r\n      url += \"page=\" + this.page;\r\n      url += \"&name=\" + this.nomRestauRecherche;\r\n      url += \"&cuisine=\" + this.cuisineRestauRecherche;\r\n\r\n      fetch(url)\r\n        .then((responseJSON) => {\r\n          responseJSON.json().then((resJS) => {\r\n            console.log(resJS);\r\n            this.restaurants = resJS.data;\r\n            this.nbRes = resJS.count;\r\n            this.nbPageTotal = Math.round(this.nbRes / this.pageSize);\r\n          });\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err);\r\n        });\r\n    },\r\n    chercherRestaurants: _.debounce(function () {\r\n      this.getRestaurantsFromServer();\r\n    }, 300),\r\n    supprimerRestaurant(r) {\r\n      let url = \"http://localhost:8080/api/restaurants/\" + r._id;\r\n\r\n      fetch(url, {\r\n        method: \"DELETE\",\r\n      })\r\n        .then((responseJSON) => {\r\n          responseJSON.json().then((resJS) => {\r\n            this.msg = resJS.msg;\r\n            this.getRestaurantsFromServer();\r\n          });\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err);\r\n        });\r\n    },\r\n    ajouterRestaurant(event) {\r\n      // eviter le comportement par defaut\r\n      event.preventDefault();\r\n\r\n      // Récupération du formulaire. Pas besoin de document.querySelector\r\n      // ou document.getElementById puisque c'est le formulaire qui a généré\r\n      // l'événement\r\n      let form = event.target;\r\n\r\n      // Récupération des valeurs des champs du formulaire\r\n      // en prévision d'un envoi multipart en ajax/fetch\r\n      let donneesFormulaire = new FormData(form);\r\n\r\n      let url = \"http://localhost:8080/api/restaurants?\";\r\n\r\n      fetch(url, {\r\n        method: \"POST\",\r\n        body: donneesFormulaire,\r\n      })\r\n        .then((responseJSON) => {\r\n          responseJSON.json().then((resJS) => {\r\n            // Maintenant res est un vrai objet JavaScript\r\n            console.log(resJS.msg);\r\n          });\r\n        })\r\n        .catch(function (err) {\r\n          console.log(err);\r\n        });\r\n      this.nom = \"\";\r\n      this.cuisine = \"\";\r\n      this.ville = \"\";\r\n    },\r\n    getColor(index) {\r\n      return index % 2 ? \"lightBlue\" : \"pink\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nform {\r\n    width: 300px;\r\n    height: 300px;\r\n    margin-left: auto; \r\n    margin-right: auto;\r\n\r\n}\r\n\r\n.md-field {\r\n    max-width: 300px;\r\n  }\r\n\r\nmd-table-row {\r\n    margin-left: auto; \r\n    margin-right: auto;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}